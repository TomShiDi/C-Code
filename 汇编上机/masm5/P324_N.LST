Microsoft (R) Macro Assembler Version 5.00                  11/22/4                                                             Page     1-1


 0000				dseg     segment 
 0000  0000 0000		time0    dw 0,0 
 0004  0000 0000		timeend  dw 0,0 
 0008  0000			count    dw 0 
 000A  54 68 65 20 62 65 6C	mess     db 'The bell is ring!',0dh,0ah,'$' 
       6C 20 69 73 20 72 69	
       6E 67 21 0D 0A 24	
 001E				dseg     ends 
				 
 0000				cseg     segment 
				         assume cs:cseg,ds:dseg,es:dseg 
 0000  B8 ---- R		start:   mov  ax,dseg 
 0003  8E D8				 mov  ds,ax 
 0005  B0 1C				 mov  al,1ch 
 0007  B4 35				 mov  ah,35h 
 0009  CD 21				 int  21h 
 000B  06				 push es 
 000C  53				 push bx 
 000D  1E				 push ds 
 000E  BA 0043 R			 mov  dx,offset ring 
 0011  B8 ---- R			 mov  ax,seg ring 
 0014  8E D8				 mov  ds,ax 
 0016  B8 251C				 mov  ax,251ch 
 0019  CD 21				 int  21h 
 001B  1F				 pop  ds 
 001C  E4 21				 in   al,21h 
 001E  24 FE				 and  al,0feh 
 0020  E6 21				 out  21h,al 
 0022  CD 21				 int  21h 
 0024  FB				 sti 
 0025  BF 1B58			         mov  di,7000 
 0028  BE FFFF			delay:   mov  si,0ffffh 
 002B  4E			delay1:  dec  si 
 002C  83 3E 0008 R 64		         cmp  count,100 
 0031  73 0C			         jae  exit0 
 0033  75 F6			         jnz  delay1 
 0035  4F				 dec  di 
 0036  75 F0				 jnz  delay 
 0038  5A				 pop  dx 
 0039  1F				 pop  ds 
 003A  B8 251C				 mov  ax,251ch 
 003D  CD 21				 int  21h 
 003F  B4 4C			exit0:   mov  ah,4ch 
 0041  CD 21			         int  21h 
				;         ret 
				;main     endp 
				 
 0043				ring     proc 
 0043  1E			         push ds 
 0044  50				 push ax 
 0045  51				 push cx 
 0046  52				 push dx 
 0047  53			         push bx 
 0048  B4 2C			         mov  ah,2ch 
Microsoft (R) Macro Assembler Version 5.00                  11/22/4                                                             Page     1-2


 004A  CD 21			         int  21h 
 004C  89 0E 0000 R		         mov  time0,cx 
 0050  89 16 0002 R		         mov  time0+2,dx 
 0054  FF 06 0008 R		         inc  count 
 0058  83 3E 0008 R 64		         cmp  count,100 
 005D  72 0C			         jb   exit 
 005F  B4 2C			         mov  ah,2ch 
 0061  CD 21			         int  21h 
 0063  89 0E 0004 R		         mov  timeend,cx 
 0067  89 16 0006 R		         mov  timeend+2,dx 
				 
 006B  5B			exit:    pop  bx 
 006C  5A			         pop  dx 
 006D  59				 pop  cx 
 006E  58				 pop  ax 
 006F  1F				 pop  ds 
 0070  CF				 iret 
 0071				ring     endp 
 0071				cseg     ends 
				         end  start 
Microsoft (R) Macro Assembler Version 5.00                  11/22/4                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

CSEG . . . . . . . . . . . . . .  	0071	PARA	NONE	
DSEG . . . . . . . . . . . . . .  	001E	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

COUNT  . . . . . . . . . . . . .  	L WORD	0008	DSEG

DELAY  . . . . . . . . . . . . .  	L NEAR	0028	CSEG
DELAY1 . . . . . . . . . . . . .  	L NEAR	002B	CSEG

EXIT . . . . . . . . . . . . . .  	L NEAR	006B	CSEG
EXIT0  . . . . . . . . . . . . .  	L NEAR	003F	CSEG

MESS . . . . . . . . . . . . . .  	L BYTE	000A	DSEG

RING . . . . . . . . . . . . . .  	N PROC	0043	CSEG	Length = 002E

START  . . . . . . . . . . . . .  	L NEAR	0000	CSEG

TIME0  . . . . . . . . . . . . .  	L WORD	0000	DSEG
TIMEEND  . . . . . . . . . . . .  	L WORD	0004	DSEG

@FILENAME  . . . . . . . . . . .  	TEXT  p324_n		


     72 Source  Lines
     72 Total   Lines
     14 Symbols

  50358 + 450650 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
