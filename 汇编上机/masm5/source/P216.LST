Microsoft (R) Macro Assembler Version 5.00                  11/7/4                                                             Page     1-1


				;p216.asm,键入十进制数以十六进制形式显示。 
				; 
				;**************************************** 
 0000				decihex	segment 
					assume	cs:decihex 
 0000				main	proc	far 
 0000  B9 0002			start:	mov 	cx,2 
 0003  E8 0016 R		repeat:	call	decibin 
 0006  E8 0053 R			call 	crlf 
 0009  E8 0034 R			call 	binihex 
 000C  E8 0053 R			call 	crlf 
 000F  E2 F2				loop	repeat 
 0011  B8 4C00				mov	ax,4c00h 
 0014  CD 21				int 	21h 
 0016				main	endp 
				 
				;------------------------------------------ 
				;十进制数转换为二进制子程序。 
				;结果在BX中。 
				; 
 0016				decibin	proc	near 
 0016  51				push	cx 
 0017  BB 0000				mov	bx,0 
 001A  B4 01			newchar:mov	ah,1 
 001C  CD 21				int	21h 
 001E  2C 30				sub	al,30h 
 0020  7C 10				jl	exit 
 0022  3C 09				cmp	al,9 
 0024  7F 0C				jg	exit 
 0026  98				cbw 
 0027  93				xchg	ax,bx 
 0028  B9 000A				mov	cx,10 
 002B  F7 E1				mul	cx 
 002D  93				xchg	ax,bx 
 002E  03 D8				add	bx,ax 
 0030  EB E8				jmp	newchar 
 0032  59			exit:	pop	cx	;当exit标在下行时出错。
				 
 0033  C3				ret 
 0034				decibin endp 
				 
				;============================================ 
				;二进制以十六进制形式显示在屏幕上。 
				; 
 0034				binihex	proc	near 
 0034  51				push	cx 
 0035  B5 04				mov	ch,4 
 0037  B1 04			rotate:	mov	cl,4 
 0039  D3 C3				rol	bx,cl 
 003B  8A C3				mov	al,bl 
 003D  24 0F				and 	al,0fh 
 003F  04 30				add	al,30h 
 0041  3C 3A				cmp	al,3ah 
 0043  7C 02				jl	printit 
Microsoft (R) Macro Assembler Version 5.00                  11/7/4                                                             Page     1-2


 0045  04 07				add	al,7 
 0047  8A D0			printit:mov	dl,al 
 0049  B4 02				mov	ah,2 
 004B  CD 21				int	21h 
 004D  FE CD				dec	ch 
 004F  75 E6				jnz	rotate 
 0051  59				pop	cx 
 0052  C3				ret 
 0053				binihex	endp 
				 
				;------------------------------------------- 
				;回车、换行子程序。 
				; 
 0053				crlf	proc	near 
 0053  51				push	cx 
 0054  B2 0D				mov	dl,0dh 
 0056  B4 02				mov	ah,2 
 0058  CD 21				int	21h 
 005A  B2 0A				mov	dl,0ah 
 005C  B4 02				mov	ah,2 
 005E  CD 21				int 	21h 
 0060  59				pop	cx 
 0061  C3				ret 
 0062				crlf	endp 
				;------------------------------------------- 
				 
 0062				decihex ends 
				;********************************************* 
					end	main 
Microsoft (R) Macro Assembler Version 5.00                  11/7/4                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

DECIHEX  . . . . . . . . . . . .  	0062	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

BINIHEX  . . . . . . . . . . . .  	N PROC	0034	DECIHEX	Length = 001F

CRLF . . . . . . . . . . . . . .  	N PROC	0053	DECIHEX	Length = 000F

DECIBIN  . . . . . . . . . . . .  	N PROC	0016	DECIHEX	Length = 001E

EXIT . . . . . . . . . . . . . .  	L NEAR	0032	DECIHEX

MAIN . . . . . . . . . . . . . .  	F PROC	0000	DECIHEX	Length = 0016

NEWCHAR  . . . . . . . . . . . .  	L NEAR	001A	DECIHEX

PRINTIT  . . . . . . . . . . . .  	L NEAR	0047	DECIHEX

REPEAT . . . . . . . . . . . . .  	L NEAR	0003	DECIHEX
ROTATE . . . . . . . . . . . . .  	L NEAR	0037	DECIHEX

START  . . . . . . . . . . . . .  	L NEAR	0000	DECIHEX

@FILENAME  . . . . . . . . . . .  	TEXT  p216		


     82 Source  Lines
     82 Total   Lines
     13 Symbols

  50414 + 450594 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
