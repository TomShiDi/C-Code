Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Page     1-1


				;p234.asm,求n! 
				;不采用结构体,用增强型过程定义。 
				; 
				;**********************************************
				******* 
					.model	small 
 0000					.data	 
 0000  ????			n_v	dw	? 
 0002  ????			result	dw	? 
				;**********************************************
				******* 
				; 
				;**********************************************
				******* 
 0200					.stack	200h 
				;**********************************************
				******* 
				; 
				;**********************************************
				******* 
 0000					.code	 
 0000  B8 ---- R		start:	mov	ax,@data 
 0003  8E D8				mov	ds,ax 
				; 
 0005  BB 0002 R			mov	bx,offset result 
 0008  53				push	bx 
 0009  8B 1E 0000 R			mov	bx,n_v 
 000D  53				push	bx 
 000E  E8 0016 R			call 	fact 
				; 
 0011  B8 4C00				mov	ax,4c00h 
 0014  CD 21				int 	21h 
				 
				;----------------------------------------------
				--------- 
 0016				fact	proc	pascal uses bx ax,parresult:wor
				d,parn:word 
p239.ASM(30): error A2022: Operand must be type specifier
 0016  8B 1E 0000 U			mov	bx,parresult 
p239.ASM(31): error A2009: Symbol not defined: PARRESULT
 001A  A1 0000 U			mov	ax,parn 
p239.ASM(32): error A2009: Symbol not defined: PARN
 001D  3D 0000				cmp	ax,0 
 0020  74 10				je	done 
 0022  53				push	bx 
 0023  48				dec	ax 
 0024  50				push	ax 
 0025  E8 0016 R			call	fact 
 0028  8B 1E 0000 U			mov	bx,parresult 
p239.ASM(39): error A2009: Symbol not defined: PARRESULT
 002C  F7 26 0000 U			mul	parn 
p239.ASM(40): error A2009: Symbol not defined: PARN
 0030  EB 03				jmp	short return 
				; 
Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Page     1-2


 0032  B8 0001			done:	mov	ax,1 
 0035  89 07			return:	mov	[bx],ax 
 0037  C3				ret 
 0038				fact	endp 
				;----------------------------------------------
				------------ 
				; 
				;**********************************************
				************ 
 0038					end	start 
Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

DGROUP . . . . . . . . . . . . .  	GROUP
  _DATA  . . . . . . . . . . . .  	0004	WORD	PUBLIC	'DATA'
  STACK  . . . . . . . . . . . .  	0200	PARA	STACK	'STACK'
_TEXT  . . . . . . . . . . . . .  	0038	WORD	PUBLIC	'CODE'

Symbols:            

                N a m e         	Type	 Value	 Attr

DONE . . . . . . . . . . . . . .  	L NEAR	0032	_TEXT

FACT . . . . . . . . . . . . . .  	N PROC	0016	_TEXT	Length = 0022

N_V  . . . . . . . . . . . . . .  	L WORD	0000	_DATA

RESULT . . . . . . . . . . . . .  	L WORD	0002	_DATA
RETURN . . . . . . . . . . . . .  	L NEAR	0035	_TEXT

START  . . . . . . . . . . . . .  	L NEAR	0000	_TEXT

@CODE  . . . . . . . . . . . . .  	TEXT  _TEXT		
@CODESIZE  . . . . . . . . . . .  	TEXT  0		
@DATASIZE  . . . . . . . . . . .  	TEXT  0		
@FILENAME  . . . . . . . . . . .  	TEXT  p239		


     50 Source  Lines
     50 Total   Lines
     20 Symbols

  50324 + 450684 Bytes symbol space free

      0 Warning Errors
      5 Severe  Errors
