Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Page     1-1


				;p241.asm,¼üÈëÊ®Áù½øÖÆÊıÒÔÊ®½øÖÆĞÎÊ½ÏÔÊ¾¡£ 
				; 
				;¶¨Òå³£Êı 
 = 0002				display	equ	2h 
 = 0001				key_in	equ	1h 
 = 0021				doscall	equ	21h 
				; 
				; 
				;**************************************** 
 0000				hexidec	segment 
					assume	cs:hexidec 
				; 
 0000  B9 0005			start:	mov 	cx,5 
 0003  51			repeat:	push	cx	 
 0004  E8 0018 R			call	hexibin 
 0007  E8 0077 R			call 	crlf 
 000A  E8 0046 R			call 	binidec 
 000D  E8 0077 R			call 	crlf 
 0010  59				pop	cx 
 0011  E2 F0				loop	repeat 
 0013  B8 4C00				mov	ax,4c00h 
 0016  CD 21				int 	doscall 
				;******************************************* 
				; 
				;------------------------------------------ 
				;¹ı³ÌÃû£ºhexibin 
				;¹¦ÄÜ£ºÊ®Áù½øÖÆÊı×ª»»Îª¶ş½øÖÆ×Ó³ÌĞò¡£ 
				;Èë¿Ú²ÎÊı£º¼üÅÌÊäÈëËÄ¸öÕıÊ®Áù½øÖÆÊı 
				;·µ»ØÖµ£º½á¹ûÔÚBXÖĞ¡£ 
				;Ëã·¨£º0~9¼õÈ¥30h£¬A~FÔÙ¼õÈ¥7£¬a~fÔÙ¼õÈ¥20h¡£ 
				; 
 0018				hexibin	proc	near 
 0018  BB 0000				mov	bx,0 
 001B  B4 01			newchar:mov	ah,key_in 
 001D  CD 21				int	doscall 
 001F  2C 30				sub	al,30h 
 0021  7C 22				jl	exit	;Ğ¡ÓÚ0£¬·ÇÊ®Áù½øÖÆÊı¡£ 
 0023  3C 0A				cmp	al,10 
 0025  7C 14				jl	add_to	;ÒÑ¾­×ª»»Îª¶ş½øÖÆ,0¡«9 
 0027  2C 07				sub	al,7 
 0029  3C 0A				cmp	al,0ah 
 002B  7C 18				jl	exit	;'9'<al<'A',·ÇÊ®Áù½øÖÆÊ
				ı¡£ 
 002D  3C 10				cmp	al,16 
 002F  7C 0A				jl	add_to	;ÒÑ¾­×ª»»Îª¶ş½øÖÆ,A¡«F 
 0031  2C 20				sub	al,20h 
 0033  3C 0A				cmp	al,0ah 
 0035  7C 0E				jl	exit	;'F'<al<'a',·ÇÊ®Áù½øÖÆÊ
				ı¡£ 
 0037  3C 10				cmp	al,16 
 0039  7D 0A				jge	exit	;al>'f'×ª×ß£¬·ñÔòa¡«f 
 003B  B1 04			add_to:	mov	cl,4	;0¡«9,»òA¡«F,»òa¡«f 
 003D  D3 E3				shl	bx,cl	;½«ÊäÈëËÄÊıÆ´³É16Î»¶ş½ø
				ÖÆÊı¡£ 
Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Page     1-2


 003F  B4 00				mov	ah,0 
 0041  03 D8				add	bx,ax 
 0043  EB D6				jmp	newchar 
				; 
 0045  C3			exit:	ret 
 0046				hexibin endp 
				;----------------------------------------------
				- 
				; 
				;============================================ 
				;¹ı³ÌÃû£ºbinidec 
				;¹¦ÄÜ£º¶ş½øÖÆÊıÒÔÊ®½øÖÆĞÎÊ½ÏÔÊ¾ÔÚÆÁÄ»ÉÏ¡£ 
				;Èë¿Ú²ÎÊı£º¶ş½øÖÆÊıÔÚbxÖĞ¡£ 
				;·µ»ØÖµ£ºÎŞ¡£ÔÚÆÁÄ»ÉÏÏÔÊ¾½á¹û¡£ 
				;Ëã·¨£º´Ó×óµ½ÓÒÒÀ´Î³ıÒÔÊ®½øÖÆÈ¨ÖµµÃµ½ÉÌÔÚÆÁÄ»ÉÏ
				ÏÔÊ¾¡£ 
				; 
				; 
 0046				binidec	proc	near 
 0046  B9 2710				mov	cx,10000 
 0049  E8 0065 R			call	dec_div 
 004C  B9 03E8				mov	cx,1000 
 004F  E8 0065 R			call	dec_div 
 0052  B9 0064				mov	cx,100 
 0055  E8 0065 R			call	dec_div 
 0058  B9 000A				mov	cx,10 
 005B  E8 0065 R			call	dec_div 
 005E  B9 0001				mov	cx,1 
 0061  E8 0065 R			call	dec_div 
 0064  C3				ret 
				; 
				; 
				;---------------------------------------- 
				;¹ı³ÌÃû£ºdec_div 
				;¹¦ÄÜ£ºÍ¨¹ı³ıÒÔ10µÄÃİ´Î·½µÃµ½Ò»Î»ÉÌ²¢ÏÔÊ¾ÔÚÆÁÄ»
				ÉÏ¡£ 
				;Èë¿Ú²ÎÊı£ºÔ­¶ş½øÖÆÊı(ÓàÊı)ÔÚbxÖĞ£¬10µÄÃİ´Î·½ÔÚ
				cxÖĞ¡£ 
				;·µ»ØÖµ£ºÉÌËÍÆÁÄ»ÏÔÊ¾¡£ÓàÊıÔÚbxÖĞ¡£ 
				;Ëã·¨£ºÒÀ´Î³ıÒÔ10000,1000,100,10,1µÃµ½ÉÌ²¢ÏÔÊ¾¡
				£ 
				; 
 0065				dec_div	proc	near 
 0065  8B C3				mov	ax,bx 
 0067  2B D2				sub	dx,dx	;µÃµ½dx:ax³ıÒÔcx 
 0069  F7 F1				div	cx 
 006B  8B DA				mov	bx,dx 
				; 
 006D  8A D0				mov	dl,al 
 006F  80 C2 30				add	dl,30h 
 0072  B4 02				mov	ah,display 
 0074  CD 21				int 	doscall 
 0076  C3				ret 
 0077				dec_div	endp 
Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Page     1-3


				;----------------------------------------------
				-- 
				; 
 0077				binidec	endp 
				;==============================================
				==== 
				; 
				; 
				;------------------------------------------- 
				;¹ı³ÌÃû£ºcrlf 
				;¹¦ÄÜ£ºÏÔÊ¾»Ø³µ¡¢»»ĞĞ×Ó³ÌĞò¡£ 
				;Èë¿Ú²ÎÊı£ºÎŞ¡£ 
				;·µ»ØÖµ£ºÎŞ¡£ 
				; 
				; 
 0077				crlf	proc	near 
				; 
 0077  B2 0D				mov	dl,0dh 
 0079  B4 02				mov	ah,display 
 007B  CD 21				int	doscall 
				; 
 007D  B2 0A				mov	dl,0ah 
 007F  B4 02				mov	ah,display 
 0081  CD 21				int 	doscall 
				; 
 0083  C3				ret 
 0084				crlf	endp 
				;------------------------------------------- 
				 
 0084				hexidec ends 
				;********************************************* 
					end	start 
Microsoft (R) Macro Assembler Version 5.00                  11/21/4                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

HEXIDEC  . . . . . . . . . . . .  	0084	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

ADD_TO . . . . . . . . . . . . .  	L NEAR	003B	HEXIDEC

BINIDEC  . . . . . . . . . . . .  	N PROC	0046	HEXIDEC	Length = 0031

CRLF . . . . . . . . . . . . . .  	N PROC	0077	HEXIDEC	Length = 000D

DEC_DIV  . . . . . . . . . . . .  	N PROC	0065	HEXIDEC	Length = 0012
DISPLAY  . . . . . . . . . . . .  	NUMBER	0002	
DOSCALL  . . . . . . . . . . . .  	NUMBER	0021	

EXIT . . . . . . . . . . . . . .  	L NEAR	0045	HEXIDEC

HEXIBIN  . . . . . . . . . . . .  	N PROC	0018	HEXIDEC	Length = 002E

KEY_IN . . . . . . . . . . . . .  	NUMBER	0001	

NEWCHAR  . . . . . . . . . . . .  	L NEAR	001B	HEXIDEC

REPEAT . . . . . . . . . . . . .  	L NEAR	0003	HEXIDEC

START  . . . . . . . . . . . . .  	L NEAR	0000	HEXIDEC

@FILENAME  . . . . . . . . . . .  	TEXT  p241		


    130 Source  Lines
    130 Total   Lines
     15 Symbols

  50414 + 450594 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
